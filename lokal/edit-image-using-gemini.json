"{\n  \"name\": \"Generate image from image\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"method\": \"POST\",\n        \"url\": \"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent\",\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"x-goog-api-key\",\n              \"value\": \"=AIzaSyBsP5OMaSFMYyD4DKTlhkh4yIB3h4pvtYI\"\n            },\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        },\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"jsonBody\": \"={\\n  \\\"contents\\\": [\\n    {\\n      \\\"parts\\\": [\\n        {\\n          \\\"text\\\": \\\"{{ $('When Executed by Another Workflow').item.json.prompt }}\\\"\\n        },\\n        {\\n          \\\"inline_data\\\": {\\n            \\\"mime_type\\\": \\\"{{ $('HTTP Request').item.binary.data.mimeType }}\\\",\\n            \\\"data\\\": \\\"{{ $json.data }}\\\"\\n          }\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"generationConfig\\\": {\\n    \\\"responseModalities\\\": [\\n      \\\"TEXT\\\",\\n      \\\"IMAGE\\\"\\n    ]\\n  }\\n}\",\n        \"options\": {}\n      },\n      \"id\": \"a5450186-7852-4cc5-8848-08378d828c4c\",\n      \"name\": \"Gemini 1.5 Flash Image Edit\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        -432,\n        176\n      ]\n    },\n    {\n      \"parameters\": {\n        \"url\": \"={{ $json.imageUrl }}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        -208,\n        -64\n      ],\n      \"id\": \"4423961b-a5c0-4a72-be52-40a773e87ae5\",\n      \"name\": \"HTTP Request\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"binaryToPropery\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"typeVersion\": 1,\n      \"position\": [\n        0,\n        -64\n      ],\n      \"id\": \"609337fe-17d4-463e-8447-9a35157278a5\",\n      \"name\": \"Extract from File\"\n    },\n    {\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"prompt\"\n            },\n            {\n              \"name\": \"imageUrl\"\n            },\n            {\n              \"name\": \"chat_id\"\n            },\n            {\n              \"name\": \"send_id\"\n            },\n            {\n              \"name\": \"fileName\"\n            }\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        -432,\n        -64\n      ],\n      \"id\": \"e6219a9c-6ba8-4cca-81b6-86e8bb9a38f1\",\n      \"name\": \"When Executed by Another Workflow\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"021aad70-de11-4387-844e-7e7dfd3b1044\",\n              \"name\": \"image\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts.find(part => part.inlineData).inlineData.data }}\"\n            },\n            {\n              \"id\": \"62877ef7-2057-4d35-a44b-1d58fa1f1769\",\n              \"name\": \"mimeType\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.candidates[0].content.parts.find(part => part.inlineData).inlineData.mimeType }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"4ebb5f09-3d9a-496e-85b6-cb5fd637abd0\",\n      \"name\": \"Get Image Contents\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -224,\n        176\n      ],\n      \"typeVersion\": 3.4\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"toBinary\",\n        \"sourceProperty\": \"image\",\n        \"options\": {\n          \"mimeType\": \"={{ $json.mimeType }}\"\n        }\n      },\n      \"id\": \"a84e0dd3-4bdb-4196-83de-02dd4e976de0\",\n      \"name\": \"Convert to File\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        0,\n        176\n      ],\n      \"typeVersion\": 1.1,\n      \"onError\": \"continueRegularOutput\"\n    },\n    {\n      \"parameters\": {\n        \"method\": \"POST\",\n        \"url\": \"=https://wa.devotetolove.com/send/{{ $('When Executed by Another Workflow').item.json.chat_id }}\",\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"Bearer SAVnDRPmruAduGveHmt7EKMYB65ZF7n2\"\n            }\n          ]\n        },\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"message\",\n              \"value\": \"={{ $('When Executed by Another Workflow').item.json.prompt }}\\n\\nhttps://s3proxy.talentabangsa.com/ai_agent/{{ $('When Executed by Another Workflow').item.json.fileName }}\"\n            },\n            {\n              \"name\": \"phone\",\n              \"value\": \"={{ $('When Executed by Another Workflow').item.json.send_id }}\"\n            },\n            {\n              \"parameterType\": \"formBinaryData\",\n              \"name\": \"image\",\n              \"inputDataFieldName\": \"data\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"7b1f01ea-86ce-4e6f-9631-51664e742d69\",\n      \"name\": \"Send Image Whatsapp\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        272,\n        176\n      ],\n      \"executeOnce\": true,\n      \"onError\": \"continueRegularOutput\"\n    }\n  ],\n  \"pinData\": {\n    \"When Executed by Another Workflow\": [\n      {\n        \"json\": {\n          \"prompt\": \"remove the text\",\n          \"imageUrl\": \"https://storage.googleapis.com/n8n-devotetolove/wa/cesinesaronifadivotu.jpg?alt=media\",\n          \"chat_id\": \"6282287998818\",\n          \"send_id\": \"6281325168495\",\n          \"fileName\": \"image_no_text.jpg\"\n        }\n      }\n    ]\n  },\n  \"connections\": {\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract from File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract from File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gemini 1.5 Flash Image Edit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gemini 1.5 Flash Image Edit\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Image Contents\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image Contents\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert to File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Image Whatsapp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"3ce6f05c-d7bc-4639-a671-57161061b4d0\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"038f07380823737bad6c4701f91c0908c21107fc6ca87179339ab49a21465b4a\"\n  },\n  \"id\": \"SIV2VRTkqQncQCgi\",\n  \"tags\": []\n}"
