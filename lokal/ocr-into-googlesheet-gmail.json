"{\n  \"name\": \"Extract Text from Images with Telegram Bot & Gemini OCR save into GoogleSheet & Gmail\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {\n          \"download\": true\n        }\n      },\n      \"id\": \"d542ac2e-b4a8-4ef4-8f7d-82967496eb84\",\n      \"name\": \"Telegram Trigger\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        720,\n        304\n      ],\n      \"webhookId\": \"6ebd6b32-94ab-4b06-a988-541a08ad0004\",\n      \"typeVersion\": 1.2,\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"zDaY8zjnc74IQVsZ\",\n          \"name\": \"Telegram account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c8cd1608-2326-401d-9c47-79a6a72f5fc7\",\n              \"name\": \"chatID\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.message.chat.id }}\"\n            },\n            {\n              \"id\": \"0f1a41cb-8630-4e10-b445-f6bbbcf91d33\",\n              \"name\": \"Image\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json[\\\"message\\\"][\\\"photo\\\"][$json[\\\"message\\\"][\\\"photo\\\"].length - 1][\\\"file_id\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"62153ad5-5d6a-425e-8d95-102f4c1127ff\",\n      \"name\": \"Clean Input Data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        928,\n        304\n      ],\n      \"typeVersion\": 3.4\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"file\",\n        \"fileId\": \"={{ $json.Image.replace(/\\\\n/g, '') }}\",\n        \"additionalFields\": {}\n      },\n      \"id\": \"8025ea31-cabc-413a-b2c3-d7c3d90090ee\",\n      \"name\": \"get file\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1152,\n        304\n      ],\n      \"webhookId\": \"60dbd4f5-c1f5-453e-b10e-d90be0b14a31\",\n      \"typeVersion\": 1.2,\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"zDaY8zjnc74IQVsZ\",\n          \"name\": \"Telegram account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"chatId\": \"={{ $('Clean Input Data').item.json.chatID }}\",\n        \"text\": \"={{ $json.candidates[0].content.parts[0].text }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"id\": \"7895240d-cf0f-42ae-b2ea-d97897e8d696\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        880,\n        560\n      ],\n      \"webhookId\": \"bd00e5f4-b269-40ca-876c-458dc28471c1\",\n      \"typeVersion\": 1.2,\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"zDaY8zjnc74IQVsZ\",\n          \"name\": \"Telegram account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Image Reader\",\n        \"height\": 620,\n        \"width\": 920,\n        \"color\": 4\n      },\n      \"id\": \"578f57a6-834b-4b38-9503-b2e59b60cc91\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        240\n      ],\n      \"typeVersion\": 1\n    },\n    {\n      \"parameters\": {\n        \"method\": \"POST\",\n        \"url\": \"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyBuffoOtHBSd9eatYy6K3mFnrfywc2-t0w\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"jsonBody\": \"={\\n  \\\"contents\\\": [\\n    {\\n      \\\"parts\\\": [\\n        {\\\"text\\\" : \\\"Extract the content from the image and output it while keeping the original format.\\\"},\\n        {\\n          \\\"inlineData\\\": {\\n            \\\"mimeType\\\": \\\"image/jpg\\\",\\n            \\\"data\\\": \\\"{{ $json.data }}\\\"\\n          }\\n        },\\n        {\\n          \\\"text\\\": \\\"Extract text\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"generationConfig\\\": {\\n  \\\"temperature\\\": 1,\\n  \\\"maxOutputTokens\\\": 65536\\n  }\\n}\",\n        \"options\": {}\n      },\n      \"id\": \"48ea33e0-97cd-4500-bdb5-f42cbbefd734\",\n      \"name\": \"Gemini OCR\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        720,\n        560\n      ],\n      \"typeVersion\": 4.2\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"binaryToPropery\",\n        \"options\": {}\n      },\n      \"id\": \"f9b5dce6-95c7-4db4-9545-7712904e6bf3\",\n      \"name\": \"Extract from File\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        1392,\n        304\n      ],\n      \"typeVersion\": 1\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"append\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1_jPsGJ9CKqcUMmFsaGz5F4M14HGahu0GZOBB9vxGujQ\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Bon Test\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1_jPsGJ9CKqcUMmFsaGz5F4M14HGahu0GZOBB9vxGujQ/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1_jPsGJ9CKqcUMmFsaGz5F4M14HGahu0GZOBB9vxGujQ/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Tanggal Transaksi\": \"={{ $now.format('dd-MM-yyyy HH:mm:ss') }}\",\n            \"Nama Barang\": \"={{ $json.result.text }}\"\n          },\n          \"matchingColumns\": [],\n          \"schema\": [\n            {\n              \"id\": \"Tanggal Transaksi\",\n              \"displayName\": \"Tanggal Transaksi\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Nama Barang\",\n              \"displayName\": \"Nama Barang\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [\n        1040,\n        560\n      ],\n      \"id\": \"4a3cce9a-2596-4c58-ae6e-2d46272aa8d0\",\n      \"name\": \"Append row in sheet\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"OHOUuwaJ3QWpJkaR\",\n          \"name\": \"Google Sheets account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"sendTo\": \"putut.n@gmail.com\",\n        \"subject\": \"New Data OCR\",\n        \"message\": \"Hello users... Anda mendapatkan email baru. Silahkan buka mailbox.\",\n        \"options\": {\n          \"attachmentsUi\": {\n            \"attachmentsBinary\": [\n              {}\n            ]\n          }\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"typeVersion\": 2.1,\n      \"position\": [\n        1360,\n        560\n      ],\n      \"id\": \"e5487cb0-e77e-437f-b7f3-34255445417f\",\n      \"name\": \"Send a message\",\n      \"webhookId\": \"40740fa4-c6d5-465e-b7bd-daea7e9ecec3\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"hxdhzvnISZSi1IND\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"xlsx\",\n        \"options\": {\n          \"fileName\": \"Bon Test\",\n          \"sheetName\": \"Sheet1\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        1200,\n        560\n      ],\n      \"id\": \"027a4f85-0e29-4ad2-b535-46a0effa3363\",\n      \"name\": \"Convert to File Excel\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"get file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract from File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gemini OCR\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean Input Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"get file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean Input Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract from File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gemini OCR\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Append row in sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Append row in sheet\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to File Excel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert to File Excel\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send a message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {},\n  \"versionId\": \"ebb32567-60cc-44c1-bd14-2460effae140\",\n  \"meta\": {\n    \"templateId\": \"5864\",\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"b9a1ee3dabc520dd54b61a232999c0d3256de42169dc61a0414b90b68a5599f9\"\n  },\n  \"id\": \"PSye3FPe76ZFdbBe\",\n  \"tags\": []\n}"
