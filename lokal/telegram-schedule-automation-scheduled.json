"{\r\n  \"id\": \"02GdRzvsuHmSSgBw\",\r\n  \"meta\": {\r\n    \"instanceId\": \"31e69f7f4a77bf465b805824e303232f0227212ae922d12133a0f96ffeab4fef\",\r\n    \"templateCredsSetupCompleted\": true\r\n  },\r\n  \"name\": \"#️⃣Nostr #damus AI Powered Reporting + Gmail + Telegram\",\r\n  \"tags\": [],\r\n  \"nodes\": [\r\n    {\r\n      \"id\": \"e9c4c7bf-0cce-456e-9b95-726669e4b260\",\r\n      \"name\": \"When clicking ‘Test workflow’\",\r\n      \"type\": \"n8n-nodes-base.manualTrigger\",\r\n      \"position\": [\r\n        -500,\r\n        -60\r\n      ],\r\n      \"parameters\": {},\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"b8f57e15-8a6e-4a29-a6e8-745bebbd1f44\",\r\n      \"name\": \"Get HTML\",\r\n      \"type\": \"n8n-nodes-base.markdown\",\r\n      \"position\": [\r\n        880,\r\n        -840\r\n      ],\r\n      \"parameters\": {\r\n        \"mode\": \"markdownToHtml\",\r\n        \"options\": {},\r\n        \"markdown\": \"={{ $json.text }}\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"8b212119-9b69-449c-8a3b-4fdc5b085f30\",\r\n      \"name\": \"Gmail Themes\",\r\n      \"type\": \"n8n-nodes-base.gmail\",\r\n      \"position\": [\r\n        1080,\r\n        -840\r\n      ],\r\n      \"webhookId\": \"e07f9378-bfa5-48ac-88fd-0ef88a725ede\",\r\n      \"parameters\": {\r\n        \"sendTo\": \"joe@example.com\",\r\n        \"message\": \"={{ $json.data }}\",\r\n        \"options\": {\r\n          \"appendAttribution\": false\r\n        },\r\n        \"subject\": \"#damus\"\r\n      },\r\n      \"credentials\": {\r\n        \"gmailOAuth2\": {\r\n          \"id\": \"1xpVDEQ1yx8gV022\",\r\n          \"name\": \"Gmail account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 2.1\r\n    },\r\n    {\r\n      \"id\": \"b7fc214b-72cb-4caf-8563-7b2f13a1110d\",\r\n      \"name\": \"Get HTML Report\",\r\n      \"type\": \"n8n-nodes-base.markdown\",\r\n      \"position\": [\r\n        880,\r\n        80\r\n      ],\r\n      \"parameters\": {\r\n        \"mode\": \"markdownToHtml\",\r\n        \"options\": {},\r\n        \"markdown\": \"={{ $json.text }}\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"dd7580bc-f97c-4ad1-8556-2329f88bea75\",\r\n      \"name\": \"#damus Themes List\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\r\n      \"position\": [\r\n        500,\r\n        -400\r\n      ],\r\n      \"parameters\": {\r\n        \"text\": \"=Extract a list of themes from this: {{ $json.text }}\\n\\nDo not include any preamble or further explanation.\",\r\n        \"promptType\": \"define\"\r\n      },\r\n      \"typeVersion\": 1.5\r\n    },\r\n    {\r\n      \"id\": \"60a9d8fe-4ba0-4450-8073-4108b832981e\",\r\n      \"name\": \"#damus Thread Themes\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\r\n      \"position\": [\r\n        500,\r\n        -840\r\n      ],\r\n      \"parameters\": {\r\n        \"text\": \"=Tell me the theme and highlight some common threads associated with these Nostr threads that are all #damus.  Specifically mention the main reason #damus is hashtagged.  These are the threads: {{ $json.content.toJsonString() }}\",\r\n        \"promptType\": \"define\"\r\n      },\r\n      \"typeVersion\": 1.5\r\n    },\r\n    {\r\n      \"id\": \"72ab08a7-f729-46e3-8a4d-56005cabaf17\",\r\n      \"name\": \"#damus Themes & Threads Report\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\r\n      \"position\": [\r\n        500,\r\n        80\r\n      ],\r\n      \"parameters\": {\r\n        \"text\": \"=**Task:** Analyze the attached file containing Nostr threads using the hashtag #damus. Provide a detailed report with examples thread based on the following themes.  Got deep and seek out the underlying motivation of the users who posted the threads: \\n\\n## Themes\\n{{ $json.text }}\\n\\n1. **Overall Theme:** Summarize the central topic(s) discussed across the threads.\\n2. **Common Threads:** Identify recurring topics or ideas that unify the posts.\\n3. **Key Highlights:** Extract specific examples or quotes that illustrate prominent themes.\\n4. **Insights and Observations:** Offer insights on how the #damus community engages with the app and its ecosystem.\\n5. **Suggestions for Improvement:** If applicable, suggest ways to enhance user experience or community engagement based on the analysis.\\n\\n**Requirements:**\\n- Expand on each theme with comprehensive details and analysis.\\n- Use bullet points or numbered lists for clarity.\\n- Include relevant quotes or examples from the text to support your analysis.\\n- Ensure your response is detailed, well-structured, and easy to read.\\n\\n**Context:** The analysis should focus on understanding how users interact with Damus, their appreciation for its features, challenges they face, and how it fits into the broader Nostr ecosystem.\\n\\n## Nostr thread with hashtag #damus: \\n{{ $json.content.toJsonString() }}\\n\\n\",\r\n        \"promptType\": \"define\"\r\n      },\r\n      \"typeVersion\": 1.5\r\n    },\r\n    {\r\n      \"id\": \"55362e03-ca0b-4f5e-a7ff-02828522fc7d\",\r\n      \"name\": \"gemini-2.0-flash-lite-preview\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\r\n      \"position\": [\r\n        600,\r\n        -680\r\n      ],\r\n      \"parameters\": {\r\n        \"options\": {\r\n          \"temperature\": 0.4\r\n        },\r\n        \"modelName\": \"=models/gemini-2.0-flash-lite-preview\"\r\n      },\r\n      \"credentials\": {\r\n        \"googlePalmApi\": {\r\n          \"id\": \"L9UNQHflYlyF9Ngd\",\r\n          \"name\": \"Google Gemini(PaLM) Api account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"7f457b3f-d39b-4062-ada0-5e81f3768857\",\r\n      \"name\": \"gemini-2.0-flash-lite-preview1\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\r\n      \"position\": [\r\n        600,\r\n        -240\r\n      ],\r\n      \"parameters\": {\r\n        \"options\": {\r\n          \"temperature\": 0.4\r\n        },\r\n        \"modelName\": \"models/gemini-2.0-flash-lite-preview\"\r\n      },\r\n      \"credentials\": {\r\n        \"googlePalmApi\": {\r\n          \"id\": \"L9UNQHflYlyF9Ngd\",\r\n          \"name\": \"Google Gemini(PaLM) Api account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"bd68e36a-2fa7-4b78-96d8-9c4f97388249\",\r\n      \"name\": \"gemini-2.0-flash-lite-preview2\",\r\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\r\n      \"position\": [\r\n        600,\r\n        240\r\n      ],\r\n      \"parameters\": {\r\n        \"options\": {\r\n          \"temperature\": 0.4\r\n        },\r\n        \"modelName\": \"models/gemini-2.0-flash-lite-preview\"\r\n      },\r\n      \"credentials\": {\r\n        \"googlePalmApi\": {\r\n          \"id\": \"L9UNQHflYlyF9Ngd\",\r\n          \"name\": \"Google Gemini(PaLM) Api account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"24f378ca-8a10-441f-886d-136314fa30de\",\r\n      \"name\": \"Gmail Report\",\r\n      \"type\": \"n8n-nodes-base.gmail\",\r\n      \"position\": [\r\n        1080,\r\n        80\r\n      ],\r\n      \"webhookId\": \"e07f9378-bfa5-48ac-88fd-0ef88a725ede\",\r\n      \"parameters\": {\r\n        \"sendTo\": \"joe@example.com\",\r\n        \"message\": \"={{ $json.data }}\",\r\n        \"options\": {\r\n          \"appendAttribution\": false\r\n        },\r\n        \"subject\": \"#damus\"\r\n      },\r\n      \"credentials\": {\r\n        \"gmailOAuth2\": {\r\n          \"id\": \"1xpVDEQ1yx8gV022\",\r\n          \"name\": \"Gmail account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 2.1\r\n    },\r\n    {\r\n      \"id\": \"f4814872-577a-4243-ac1b-e152e147dca0\",\r\n      \"name\": \"Aggregate #damus Content\",\r\n      \"type\": \"n8n-nodes-base.aggregate\",\r\n      \"position\": [\r\n        120,\r\n        -140\r\n      ],\r\n      \"parameters\": {\r\n        \"options\": {},\r\n        \"fieldsToAggregate\": {\r\n          \"fieldToAggregate\": [\r\n            {\r\n              \"fieldToAggregate\": \"content\"\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"d2079c9e-b743-4353-bda9-e269168f5461\",\r\n      \"name\": \"Sticky Note\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        360,\r\n        -940\r\n      ],\r\n      \"parameters\": {\r\n        \"color\": 6,\r\n        \"width\": 960,\r\n        \"height\": 420,\r\n        \"content\": \"## #damus Threads Themes\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"5f69afb5-6e3c-4f65-84bb-8c1f4544b2c5\",\r\n      \"name\": \"Sticky Note1\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        360,\r\n        -480\r\n      ],\r\n      \"parameters\": {\r\n        \"color\": 5,\r\n        \"width\": 520,\r\n        \"height\": 420,\r\n        \"content\": \"## #damus Threads Themes\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"6de3d9d2-98be-4102-9ed5-cda48b37eee7\",\r\n      \"name\": \"Sticky Note2\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        360,\r\n        -20\r\n      ],\r\n      \"parameters\": {\r\n        \"color\": 4,\r\n        \"width\": 960,\r\n        \"height\": 420,\r\n        \"content\": \"## #damus Threads & Threads Report\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"42f333ce-bdd7-4950-9ef1-ae797a671f5d\",\r\n      \"name\": \"Merge Themes and Content\",\r\n      \"type\": \"n8n-nodes-base.merge\",\r\n      \"position\": [\r\n        1000,\r\n        -160\r\n      ],\r\n      \"parameters\": {\r\n        \"mode\": \"combine\",\r\n        \"options\": {},\r\n        \"combineBy\": \"combineByPosition\"\r\n      },\r\n      \"typeVersion\": 3\r\n    },\r\n    {\r\n      \"id\": \"7ff77e60-03ed-4937-b923-74a7f588fd2a\",\r\n      \"name\": \"Schedule Trigger\",\r\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\r\n      \"position\": [\r\n        -500,\r\n        -260\r\n      ],\r\n      \"parameters\": {\r\n        \"rule\": {\r\n          \"interval\": [\r\n            {}\r\n          ]\r\n        }\r\n      },\r\n      \"typeVersion\": 1.2\r\n    },\r\n    {\r\n      \"id\": \"d1939a96-1e68-4d90-a456-55852c941e28\",\r\n      \"name\": \"Sticky Note3\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        -280,\r\n        -580\r\n      ],\r\n      \"parameters\": {\r\n        \"color\": 6,\r\n        \"width\": 340,\r\n        \"height\": 700,\r\n        \"content\": \"## Get Nostr Threads with Hashtag #damus\\n\\nThe social network you control\\nYour very own social network for your friends or business.\\nAvailable Now on iOS, iPad and macOS (M1/M2)\\n\\nhttps://nostr.com/\\nhttps://damus.io/\\nhttps://damus.io/notedeck/\\n\\n### n8n Community Node https://github.com/ocknamo/n8n-nodes-nostrobots\\n\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"89905442-bf8d-40d2-a9b1-fb3cf3a2ac44\",\r\n      \"name\": \"Sticky Note4\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        940,\r\n        -640\r\n      ],\r\n      \"parameters\": {\r\n        \"width\": 320,\r\n        \"height\": 280,\r\n        \"content\": \"## Telegram \\n\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"aee0f3eb-7b0e-4df1-968d-5abe1c22e26a\",\r\n      \"name\": \"Sticky Note5\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        940,\r\n        280\r\n      ],\r\n      \"parameters\": {\r\n        \"width\": 320,\r\n        \"height\": 280,\r\n        \"content\": \"## Telegram \\n\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"f6b00109-74ef-4522-b568-6426b054bea3\",\r\n      \"name\": \"Telegram Themes\",\r\n      \"type\": \"n8n-nodes-base.telegram\",\r\n      \"position\": [\r\n        1040,\r\n        -560\r\n      ],\r\n      \"webhookId\": \"8406b3d2-5ac6-452d-847f-c0886c8cd058\",\r\n      \"parameters\": {\r\n        \"text\": \"={{ $json.text.slice(0, 4000) }}\",\r\n        \"chatId\": \"={{ $env.TELEGRAM_CHAT_ID }}\",\r\n        \"additionalFields\": {\r\n          \"parse_mode\": \"HTML\",\r\n          \"appendAttribution\": false\r\n        }\r\n      },\r\n      \"credentials\": {\r\n        \"telegramApi\": {\r\n          \"id\": \"pAIFhguJlkO3c7aQ\",\r\n          \"name\": \"Telegram account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 1.2\r\n    },\r\n    {\r\n      \"id\": \"3e7e9c70-43c6-4074-be9a-2f5ed6c4fb0e\",\r\n      \"name\": \"Telegram Themes & Threads\",\r\n      \"type\": \"n8n-nodes-base.telegram\",\r\n      \"position\": [\r\n        1040,\r\n        360\r\n      ],\r\n      \"webhookId\": \"8406b3d2-5ac6-452d-847f-c0886c8cd058\",\r\n      \"parameters\": {\r\n        \"text\": \"={{ $json.text.slice(0, 4000) }}\",\r\n        \"chatId\": \"={{ $env.TELEGRAM_CHAT_ID }}\",\r\n        \"additionalFields\": {\r\n          \"parse_mode\": \"HTML\",\r\n          \"appendAttribution\": false\r\n        }\r\n      },\r\n      \"credentials\": {\r\n        \"telegramApi\": {\r\n          \"id\": \"pAIFhguJlkO3c7aQ\",\r\n          \"name\": \"Telegram account\"\r\n        }\r\n      },\r\n      \"typeVersion\": 1.2\r\n    },\r\n    {\r\n      \"id\": \"5bc52456-7bbc-445a-8ffd-f47403a4b978\",\r\n      \"name\": \"Sticky Note6\",\r\n      \"type\": \"n8n-nodes-base.stickyNote\",\r\n      \"position\": [\r\n        -580,\r\n        -340\r\n      ],\r\n      \"parameters\": {\r\n        \"color\": 4,\r\n        \"width\": 260,\r\n        \"height\": 460,\r\n        \"content\": \"## Try Me!\"\r\n      },\r\n      \"typeVersion\": 1\r\n    },\r\n    {\r\n      \"id\": \"3b61555e-4e20-41d2-8fb7-490a2488f5f2\",\r\n      \"name\": \"Nostr Read #damus\",\r\n      \"type\": \"n8n-nodes-nostrobots.nostrobotsread\",\r\n      \"position\": [\r\n        -160,\r\n        -140\r\n      ],\r\n      \"parameters\": {\r\n        \"from\": 180,\r\n        \"hashtag\": \"#damus\",\r\n        \"strategy\": \"hashtag\"\r\n      },\r\n      \"typeVersion\": 1\r\n    }\r\n  ],\r\n  \"active\": true,\r\n  \"pinData\": {},\r\n  \"settings\": {\r\n    \"executionOrder\": \"v1\"\r\n  },\r\n  \"versionId\": \"06d6edc0-ed5c-48d1-abe6-22b04368d19b\",\r\n  \"connections\": {\r\n    \"Get HTML\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Gmail Themes\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"Get HTML Report\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Gmail Report\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"Schedule Trigger\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Nostr Read #damus\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"Nostr Read #damus\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Aggregate #damus Content\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"#damus Themes List\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Merge Themes and Content\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"#damus Thread Themes\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Get HTML\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          },\r\n          {\r\n            \"node\": \"#damus Themes List\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          },\r\n          {\r\n            \"node\": \"Telegram Themes\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"Aggregate #damus Content\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"#damus Thread Themes\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          },\r\n          {\r\n            \"node\": \"Merge Themes and Content\",\r\n            \"type\": \"main\",\r\n            \"index\": 1\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"Merge Themes and Content\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"#damus Themes & Threads Report\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"gemini-2.0-flash-lite-preview\": {\r\n      \"ai_languageModel\": [\r\n        [\r\n          {\r\n            \"node\": \"#damus Thread Themes\",\r\n            \"type\": \"ai_languageModel\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"#damus Themes & Threads Report\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Get HTML Report\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          },\r\n          {\r\n            \"node\": \"Telegram Themes & Threads\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"gemini-2.0-flash-lite-preview1\": {\r\n      \"ai_languageModel\": [\r\n        [\r\n          {\r\n            \"node\": \"#damus Themes List\",\r\n            \"type\": \"ai_languageModel\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"gemini-2.0-flash-lite-preview2\": {\r\n      \"ai_languageModel\": [\r\n        [\r\n          {\r\n            \"node\": \"#damus Themes & Threads Report\",\r\n            \"type\": \"ai_languageModel\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    },\r\n    \"When clicking ‘Test workflow’\": {\r\n      \"main\": [\r\n        [\r\n          {\r\n            \"node\": \"Nostr Read #damus\",\r\n            \"type\": \"main\",\r\n            \"index\": 0\r\n          }\r\n        ]\r\n      ]\r\n    }\r\n  }\r\n}"
